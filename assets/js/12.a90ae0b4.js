(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{472:function(s,t,e){"use strict";e.r(t);var a=e(2),r=Object(a.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"安装-sql-server-并在-ubuntu-上创建数据库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-sql-server-并在-ubuntu-上创建数据库"}},[s._v("#")]),s._v(" 安装 Sql Server 并在 Ubuntu 上创建数据库")]),s._v(" "),e("blockquote",[e("p",[s._v("参考文档："),e("a",{attrs:{href:"https://docs.microsoft.com/zh-cn/sql/linux/quickstart-install-connect-ubuntu?view=sql-server-ver15",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方文档"),e("OutboundLink")],1)]),s._v(" "),e("p",[s._v("修改时间：2020 年 5 月 22 日 00 点 31 分")])]),s._v(" "),e("h3",{attrs:{id:"先决条件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#先决条件"}},[s._v("#")]),s._v(" ☑️ "),e("strong",[s._v("先决条件")])]),s._v(" "),e("blockquote",[e("p",[s._v("❗️ ​ 不支持将适用于 Windows 10 的 "),e("em",[s._v("Linux 的 Windows 子系统")]),s._v("作为安装目标。")])]),s._v(" "),e("hr"),s._v(" "),e("h3",{attrs:{id:"安装-sql-server"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-sql-server"}},[s._v("#")]),s._v(" ☑️ "),e("strong",[s._v("安装 SQL Server")])]),s._v(" "),e("blockquote",[e("p",[s._v("📌 以下用于 SQL Server 2019 的命令指向 Ubuntu 18.04 存储库。 如果使用的是 Ubuntu 16.04，请将以下路径更改为 "),e("code",[s._v("/ubuntu/16.04/")]),s._v(" 而不是 "),e("code",[s._v("/ubuntu/18.04/")]),s._v("。")])]),s._v(" "),e("p",[s._v("要在 Ubuntu 上配置 SQL Server，请在终端中运行以下命令以安装 mssql-server 包 。")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("导入公共存储 GPG 密钥：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" -qO- https://packages.microsoft.com/keys/microsoft.asc "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" apt-key "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("为 SQL Server 2019 注册 Microsoft SQL Server Ubuntu 存储库：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" add-apt-repository "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" -qO- https://packages.microsoft.com/config/ubuntu/18.04/mssql-server-2019.list"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('"')]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("运行以下命令以安装 SQL Server：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y mssql-server\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("包安装完成后，运行 "),e("strong",[s._v("mssql-conf setup")]),s._v("，按照提示设置 SA 密码并选择版本。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" /opt/mssql/bin/mssql-conf setup\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("🚩 请确保为 SA 帐户指定强密码（最少 8 个字符，包括大写和小写字母、十进制数字和/或非字母数字符号）。")])])]),s._v(" "),e("li",[e("p",[s._v("完成配置后，验证服务是否正在运行：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("systemctl status mssql-server --no-pager\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("如果计划远程连接，可能还需要在防火墙上打开 SQL Server TCP 端口（默认值为 1433）")])])]),s._v(" "),e("hr"),s._v(" "),e("h3",{attrs:{id:"安装-sql-server-命令行工具"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-sql-server-命令行工具"}},[s._v("#")]),s._v(" ☑️ "),e("strong",[s._v("安装 SQL Server 命令行工具")])]),s._v(" "),e("blockquote",[e("p",[s._v("🚩 若要创建数据库，则需要使用可在 SQL Server 上运行 Transact-SQL 语句的工具进行连接。 以下步骤将安装 SQL Server 命令行工具："),e("a",{attrs:{href:"https://docs.microsoft.com/zh-cn/sql/tools/sqlcmd-utility?view=sql-server-ver15",target:"_blank",rel:"noopener noreferrer"}},[s._v("sqlcmd"),e("OutboundLink")],1),s._v(" 和 "),e("a",{attrs:{href:"https://docs.microsoft.com/zh-cn/sql/tools/bcp-utility?view=sql-server-ver15",target:"_blank",rel:"noopener noreferrer"}},[s._v("bcp"),e("OutboundLink")],1),s._v("。")])]),s._v(" "),e("p",[s._v("通过以下步骤在 Ubuntu 上安装"),e("em",[s._v("mssql-tools")])]),s._v(" "),e("ol",[e("li",[e("p",[s._v("导入公共存储库 GPG 密钥。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" https://packages.microsoft.com/keys/microsoft.asc "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" apt-key "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("注册 Microsoft Ubuntu 存储库。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" https://packages.microsoft.com/config/ubuntu/18.04/prod.list "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("tee")]),s._v(" /etc/apt/sources.list.d/msprod.list\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("更新源列表，并使用 unixODBC 开发人员包运行安装命令。 有关详细信息，请参阅"),e("a",{attrs:{href:"https://docs.microsoft.com/zh-cn/sql/connect/odbc/linux-mac/installing-the-microsoft-odbc-driver-for-sql-server?view=sql-server-ver15",target:"_blank",rel:"noopener noreferrer"}},[s._v("安装 Microsoft ODBC Driver for SQL Server (Linux)"),e("OutboundLink")],1),s._v("。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mssql-tools unixodbc-dev\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("blockquote",[e("p",[s._v("📌 若要将 mssql-tools 更新至最新版本，请运行以下命令 ：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mssql-tools\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("可选")]),s._v("：向 bash shell 中的 PATH 环境变量添加"),e("code",[s._v("/opt/mssql-tools/bin/")]),s._v("。")]),s._v(" "),e("p",[s._v("要使 sqlcmd/bcp 能从登陆会话的 bash shell 进行访问，请使用下列命令修改 ~/.bash_profile 文件中的 PATH ：")]),s._v(" "),e("div",{staticClass:"language-bath line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("echo 'export PATH=\"$PATH:/opt/mssql-tools/bin\"' >> ~/.bash_profile\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("要使 sqlcmd/bcp 能从交互式/非登录会话的 bash shell 进行访问，请使用下列命令修改 ~/.bashrc 文件中的 PATH ：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'export PATH=\""),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v(":/opt/mssql-tools/bin\"'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ~/.bashrc\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" ~/.bashrc\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])])]),s._v(" "),e("hr"),s._v(" "),e("h3",{attrs:{id:"本地连接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#本地连接"}},[s._v("#")]),s._v(" ☑️ "),e("strong",[s._v("本地连接")])]),s._v(" "),e("blockquote",[e("p",[s._v("🚩 以下步骤使用 sqlcmd 本地连接到新的 SQL Server 实例。")])]),s._v(" "),e("ol",[e("li",[e("p",[s._v("使用 SQL Server 名称 (-S)，用户名 (-U) 和密码 (-P) 的参数运行 sqlcmd 。 在本教程中，用户进行本地连接，因此服务器名称为 "),e("code",[s._v("localhost")]),s._v("。 用户名为 "),e("code",[s._v("SA")]),s._v("，密码是在安装过程中为 SA 帐户提供的密码。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("sqlcmd -S localhost -U SA -P "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'<YourPassword>'")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("blockquote",[e("p",[s._v("📌 可以在命令行上省略密码，以收到密码输入提示。")])]),s._v(" "),e("blockquote",[e("p",[s._v("📌 如果以后决定进行远程连接，请指定 -S 参数的计算机名称或 IP 地址，并确保防火墙上的端口 1433 已打开。")])])]),s._v(" "),e("li",[e("p",[s._v("如果成功，应会显示 sqlcmd 命令提示符："),e("code",[s._v("1>")]),s._v("。")])]),s._v(" "),e("li",[e("p",[s._v("如果连接失败，先尝试诊断错误消息中所述的问题。 然后查看"),e("a",{attrs:{href:"https://docs.microsoft.com/zh-cn/sql/linux/sql-server-linux-troubleshooting-guide?view=sql-server-ver15#connection",target:"_blank",rel:"noopener noreferrer"}},[s._v("连接故障排除建议"),e("OutboundLink")],1),s._v("。")])])]),s._v(" "),e("hr"),s._v(" "),e("h3",{attrs:{id:"创建和查询数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建和查询数据"}},[s._v("#")]),s._v(" ☑️ "),e("strong",[s._v("创建和查询数据")])]),s._v(" "),e("blockquote",[e("p",[s._v("🚩 下面各部分将逐步介绍如何使用 sqlcmd 新建数据库、添加数据并运行简单查询。")])]),s._v(" "),e("h4",{attrs:{id:"新建数据库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#新建数据库"}},[s._v("#")]),s._v(" "),e("strong",[s._v("新建数据库")])]),s._v(" "),e("p",[e("em",[s._v("以下步骤创建一个名为 "),e("code",[s._v("TestDB")]),s._v(" 的新数据库。")])]),s._v(" "),e("ol",[e("li",[e("p",[s._v("在 sqlcmd 命令提示符中，粘贴以下 Transact-SQL 命令以创建测试数据库：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DATABASE")]),s._v(" TestDB\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("在下一行中，编写一个查询以返回服务器上所有数据库的名称：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" Name "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" sys"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("Databases")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("前两个命令没有立即执行。 必须在新行中键入 "),e("code",[s._v("GO")]),s._v(" 才能执行以前的命令：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[s._v("GO\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])]),s._v(" "),e("blockquote",[e("p",[s._v("📌 若要详细了解如何编写 Transact-SQL 语句和查询，请参阅"),e("a",{attrs:{href:"https://docs.microsoft.com/zh-cn/sql/t-sql/tutorial-writing-transact-sql-statements?view=sql-server-ver15",target:"_blank",rel:"noopener noreferrer"}},[s._v("教程：编写 Transact-SQL 语句"),e("OutboundLink")],1),s._v("。")])]),s._v(" "),e("h4",{attrs:{id:"插入数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#插入数据"}},[s._v("#")]),s._v(" "),e("strong",[s._v("插入数据")])]),s._v(" "),e("p",[e("em",[s._v("接下来创建一个新表 "),e("code",[s._v("Inventory")]),s._v("，然后插入两个新行。")])]),s._v(" "),e("ol",[e("li",[e("p",[s._v("在 sqlcmd 命令提示符中，将上下文切换到新的 "),e("code",[s._v("TestDB")]),s._v(" 数据库：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USE")]),s._v(" TestDB\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("创建名为 "),e("code",[s._v("Inventory")]),s._v(" 的新表：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" Inventory "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name NVARCHAR"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" quantity "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("将数据插入新表：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" Inventory "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'banana'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("150")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" Inventory "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'orange'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("154")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("要执行上述命令的类型 "),e("code",[s._v("GO")]),s._v("：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[s._v("GO\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"选择数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#选择数据"}},[s._v("#")]),s._v(" "),e("strong",[s._v("选择数据")])]),s._v(" "),e("p",[e("em",[s._v("现在，运行查询以从 "),e("code",[s._v("Inventory")]),s._v(" 表返回数据。")])]),s._v(" "),e("ol",[e("li",[e("p",[s._v("通过 sqlcmd 命令提示符输入查询，以返回 "),e("code",[s._v("Inventory")]),s._v(" 表中数量大于 152 的行：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Inventory "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" quantity "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("152")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("执行此命令：")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[s._v("GO\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"退出-sqlcmd-命令提示符"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#退出-sqlcmd-命令提示符"}},[s._v("#")]),s._v(" "),e("strong",[s._v("退出 sqlcmd 命令提示符")])]),s._v(" "),e("p",[e("em",[s._v("要结束 sqlcmd 会话，请键入 "),e("code",[s._v("QUIT")]),s._v("：")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[s._v("QUIT\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("hr"),s._v(" "),e("h3",{attrs:{id:"阿里云服务器-1433-端口未打开处理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#阿里云服务器-1433-端口未打开处理"}},[s._v("#")]),s._v(" ⭐️ "),e("strong",[s._v("阿里云服务器 1433 端口未打开处理")])]),s._v(" "),e("blockquote",[e("p",[s._v("参考文档："),e("a",{attrs:{href:"https://blog.csdn.net/zhangjun965/article/details/79286363",target:"_blank",rel:"noopener noreferrer"}},[s._v("链接"),e("OutboundLink")],1)]),s._v(" "),e("p",[s._v("通过 telnet 命令发现 1433 端口未启用")])]),s._v(" "),e("p",[e("em",[s._v("telnet 测试端口命令： telnet IP 端口")])]),s._v(" "),e("p",[e("strong",[s._v("解决方法：")])]),s._v(" "),e("p",[s._v("登录【阿里云管理控制台】，左侧菜单依次点：\n云计算基础服务 -> 云服务器 ECS -> 网络和安全 -> 安全组 -> 在安全组列表中选择默认安全组最右边的‘配置规则’\n-> tab 页签选'入方向' -> 点右上角的‘添加安全组规则’\n-> 规则方向：入方向 -> 授权策略：允许 -> 协议类型：MS SQL(1433) -> 授权对象：0.0.0.0/0 -> 确定")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://gitee.com/walktome/PicGoImages/raw/master/image-20200522011427429.png",alt:""}})]),s._v(" "),e("p",[e("img",{attrs:{src:"https://gitee.com/walktome/PicGoImages/raw/master/image-20200522011606491.png",alt:""}})]),s._v(" "),e("hr"),s._v(" "),e("h3",{attrs:{id:"使用-vscode-跨平台连接-sql-server"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用-vscode-跨平台连接-sql-server"}},[s._v("#")]),s._v(" ☑️ "),e("strong",[s._v("使用 VSCode 跨平台连接 SQL Server")])]),s._v(" "),e("blockquote",[e("p",[s._v("参考文档："),e("a",{attrs:{href:"https://docs.microsoft.com/zh-cn/sql/visual-studio-code/sql-server-develop-use-vscode?view=sql-server-ver15",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方文档"),e("OutboundLink")],1)]),s._v(" "),e("p",[s._v("修改时间：2020 年 5 月 22 日 10 点 54 分")]),s._v(" "),e("p",[s._v("适用于： "),e("img",{attrs:{src:"https://docs.microsoft.com/zh-cn/sql/includes/media/yes-icon.png?view=sql-server-ver15",alt:"是"}}),s._v("SQL Server（仅限 Linux）")])]),s._v(" "),e("ul",[e("li",[e("h4",{attrs:{id:"安装-mssql-扩展"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-mssql-扩展"}},[s._v("#")]),s._v(" "),e("strong",[s._v("安装 mssql 扩展")])]),s._v(" "),e("ol",[e("li",[e("p",[s._v("在 Visual Studio Code 中，选择“查看” > “命令面板”，或按“Ctrl”+“Shift”+“P”，或按“F1”打开“命令面板”。")])]),s._v(" "),e("li",[e("p",[s._v("在命令面板中，从下拉列表中选择“扩展：安装扩展”。")])]),s._v(" "),e("li",[e("p",[s._v("在“扩展”窗格中，键入“mssql”。")])]),s._v(" "),e("li",[e("p",[s._v("选择“SQL Server (mssql)”扩展，然后选择“安装”。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://docs.microsoft.com/zh-cn/sql/visual-studio-code/media/sql-server-develop-use-vscode/vscode-extension.png?view=sql-server-ver15",alt:"安装 mssql 扩展"}})])]),s._v(" "),e("li",[e("p",[s._v("安装完成后，选择“重新加载”以启用扩展。")])])])]),s._v(" "),e("li",[e("h4",{attrs:{id:"创建或打开-sql-文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建或打开-sql-文件"}},[s._v("#")]),s._v(" "),e("strong",[s._v("创建或打开 SQL 文件")])]),s._v(" "),e("ol",[e("li",[s._v("选择“文件” > “新建文件”或按“Ctrl”+“N”。 默认情况下，Visual Studio Code 将打开一个新的“纯文本”文件。")]),s._v(" "),e("li",[s._v("在下方状态栏上选择“纯文本”，或按“Ctrl”+“K” > “M”，然后从“语言”下拉列表中选择“SQL”。")])]),s._v(" "),e("p",[s._v("​ "),e("img",{attrs:{src:"https://docs.microsoft.com/zh-cn/sql/visual-studio-code/media/sql-server-develop-use-vscode/vscode-language-mode.png?view=sql-server-ver15",alt:"SQL 语言模式"}})]),s._v(" "),e("blockquote",[e("p",[s._v("📌 如果打开一个文件扩展名为 .sql 的现有文件，语言模式会自动设置为 SQL。")])])]),s._v(" "),e("li",[e("h4",{attrs:{id:"连接到-sql-server"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#连接到-sql-server"}},[s._v("#")]),s._v(" "),e("strong",[s._v("连接到 SQL Server")])]),s._v(" "),e("ol",[e("li",[e("p",[s._v("按“Ctrl”+“Shift”+“P”或“F1”打开“命令面板”。")])]),s._v(" "),e("li",[e("p",[s._v("键入 sql 以显示 mssql 命令，或键入 sqlcon，然后从下拉列表中选择“MS SQL：连接”。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://docs.microsoft.com/zh-cn/sql/visual-studio-code/media/sql-server-develop-use-vscode/vscode-commands.png?view=sql-server-ver15",alt:"mssql 命令"}})]),s._v(" "),e("blockquote",[e("p",[s._v("📌 代码编辑器中的焦点须位于 SQL 文件（例如创建的空 SQL 文件），才能执行 mssql 命令。")])])]),s._v(" "),e("li",[e("p",[s._v("选择“MS SQL：管理连接配置文件”命令。")])]),s._v(" "),e("li",[e("p",[s._v("然后选择“创建”为 SQL Server 创建新的连接配置文件。")])]),s._v(" "),e("li",[e("p",[s._v("按照提示为新连接配置文件指定属性。 指定每个值后，按“Enter”继续。")]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[s._v("连接属性")]),s._v(" "),e("th",{staticStyle:{"text-align":"left"}},[s._v("说明")])])]),s._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[s._v("服务器名称或 ADO 连接字符串")])]),s._v(" "),e("td",{staticStyle:{"text-align":"left"}},[s._v("指定 SQL Server 实例名称。 使用 localhost 连接到本地计算机上的 SQL Server 实例。 如果要连接到远程 SQL Server，请输入目标 SQL Server 的名称，或它的 IP 地址。 若要连接到 SQL Server 容器，请指定容器主机的 IP 地址。 如果需要指定端口，请使用逗号将其与名称分开。 例如，对于侦听端口 1401 的服务器，请输入 "),e("code",[s._v(",1401")]),s._v("。 或者，可以在此处输入数据库的 ADO 连接字符串。")])]),s._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[s._v("“数据库名称”（可选）")]),s._v(" "),e("td",{staticStyle:{"text-align":"left"}},[s._v("要使用的数据库。 若要连接到默认数据库，请不要在此处指定数据库名称。")])]),s._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[s._v("身份验证类型")])]),s._v(" "),e("td",{staticStyle:{"text-align":"left"}},[s._v("选择“集成”或“SQL 登录”。")])]),s._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[s._v("用户名")])]),s._v(" "),e("td",{staticStyle:{"text-align":"left"}},[s._v("如果选择了“SQL 登录”，则输入拥有访问服务器上数据库权限的用户名。")])]),s._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[s._v("密码")])]),s._v(" "),e("td",{staticStyle:{"text-align":"left"}},[s._v("输入指定用户的密码。")])]),s._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[s._v("保存密码")])]),s._v(" "),e("td",{staticStyle:{"text-align":"left"}},[s._v("按“Enter”选择“是”并保存密码。 选择“否”，系统将在每次使用连接配置文件时提示输入密码。")])]),s._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[s._v("“配置文件名称”（可选）")]),s._v(" "),e("td",{staticStyle:{"text-align":"left"}},[s._v("键入连接配置文件的名称，例如 localhost 配置文件。")])])])]),s._v(" "),e("blockquote",[e("p",[s._v("🎈 输入所有值并选择“Enter”后，Visual Studio Code 将创建连接配置文件并连接到 SQL Server。")])])]),s._v(" "),e("li",[e("p",[s._v("在下方的状态栏中验证连接。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://docs.microsoft.com/zh-cn/sql/visual-studio-code/media/sql-server-develop-use-vscode/vscode-connection-status.png?view=sql-server-ver15",alt:"连接状态"}})])])])]),s._v(" "),e("li",[e("h4",{attrs:{id:"使用方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用方法"}},[s._v("#")]),s._v(" "),e("strong",[s._v("使用方法")])]),s._v(" "),e("blockquote",[e("p",[s._v("⚡️ "),e("a",{attrs:{href:"https://docs.microsoft.com/zh-cn/sql/visual-studio-code/sql-server-develop-use-vscode?view=sql-server-ver15#create-a-sql-database",target:"_blank",rel:"noopener noreferrer"}},[s._v("参考文档"),e("OutboundLink")],1)])])])])])}),[],!1,null,null,null);t.default=r.exports}}]);