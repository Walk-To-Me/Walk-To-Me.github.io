<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ubuntu安装SqlServer | IDocker</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="Walk-To-Me">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="preload" href="/assets/css/0.styles.2f5be9d5.css" as="style"><link rel="preload" href="/assets/js/app.d9584d57.js" as="script"><link rel="preload" href="/assets/js/3.0f02f0c2.js" as="script"><link rel="preload" href="/assets/js/1.9aba950e.js" as="script"><link rel="preload" href="/assets/js/12.a90ae0b4.js" as="script"><link rel="prefetch" href="/assets/js/10.8d786ede.js"><link rel="prefetch" href="/assets/js/11.07b7525a.js"><link rel="prefetch" href="/assets/js/13.5368625c.js"><link rel="prefetch" href="/assets/js/14.2c2c35ef.js"><link rel="prefetch" href="/assets/js/15.1985003f.js"><link rel="prefetch" href="/assets/js/16.911902b8.js"><link rel="prefetch" href="/assets/js/17.2ce48f10.js"><link rel="prefetch" href="/assets/js/4.bc4c13bf.js"><link rel="prefetch" href="/assets/js/5.a7429f0f.js"><link rel="prefetch" href="/assets/js/6.0246a68f.js"><link rel="prefetch" href="/assets/js/7.a18c8b33.js"><link rel="prefetch" href="/assets/js/8.95cdedb7.js"><link rel="prefetch" href="/assets/js/9.44a6fa80.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2f5be9d5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-c00e2ab0><div data-v-c00e2ab0><div id="loader-wrapper" class="loading-wrapper" data-v-71fac282 data-v-c00e2ab0 data-v-c00e2ab0><div class="loader-main" data-v-71fac282><div data-v-71fac282></div><div data-v-71fac282></div><div data-v-71fac282></div><div data-v-71fac282></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-4a776749 data-v-c00e2ab0 data-v-c00e2ab0><h3 class="title" style="display:none;" data-v-4a776749 data-v-4a776749>IDocker</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-4a776749 data-v-4a776749><input type="password" value="" data-v-4a776749> <span data-v-4a776749>Konck! Knock!</span> <button data-v-4a776749>OK</button></label> <div class="footer" style="display:none;" data-v-4a776749 data-v-4a776749><span data-v-4a776749><i class="iconfont reco-theme" data-v-4a776749></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4a776749>vuePress-theme-reco</a></span> <span data-v-4a776749><i class="iconfont reco-copyright" data-v-4a776749></i> <a data-v-4a776749><span data-v-4a776749>Air_Code</span>
            
          <span data-v-4a776749>2017 - </span>
          2020
        </a></span></div></div> <div class="hide" data-v-c00e2ab0><header class="navbar" data-v-c00e2ab0><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="IDocker" class="logo"> <span class="site-name">IDocker</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Notes/" class="nav-link"><i class="iconfont undefined"></i>
  Notes
</a></li><li class="dropdown-item"><!----> <a href="/categories/Summary/" class="nav-link"><i class="iconfont undefined"></i>
  Summary
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/recoluan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-c00e2ab0></div> <aside class="sidebar" data-v-c00e2ab0><div class="personal-info-wrapper" data-v-1285c3cd><img src="/avatar.png" alt="author-avatar" class="personal-img" data-v-1285c3cd> <h3 class="name" data-v-1285c3cd>
    Air_Code
  </h3> <div class="num" data-v-1285c3cd><div data-v-1285c3cd><h3 data-v-1285c3cd>5</h3> <h6 data-v-1285c3cd>Article</h6></div> <div data-v-1285c3cd><h3 data-v-1285c3cd>2</h3> <h6 data-v-1285c3cd>Tag</h6></div></div> <hr data-v-1285c3cd></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Notes/" class="nav-link"><i class="iconfont undefined"></i>
  Notes
</a></li><li class="dropdown-item"><!----> <a href="/categories/Summary/" class="nav-link"><i class="iconfont undefined"></i>
  Summary
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/recoluan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Ubuntu安装SqlServer</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/views/Notes/20200522.html#安装-sql-server-并在-ubuntu-上创建数据库" class="sidebar-link">安装 Sql Server 并在 Ubuntu 上创建数据库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/Notes/20200522.html#先决条件" class="sidebar-link">☑️ 先决条件</a></li><li class="sidebar-sub-header"><a href="/views/Notes/20200522.html#安装-sql-server" class="sidebar-link">☑️ 安装 SQL Server</a></li><li class="sidebar-sub-header"><a href="/views/Notes/20200522.html#安装-sql-server-命令行工具" class="sidebar-link">☑️ 安装 SQL Server 命令行工具</a></li><li class="sidebar-sub-header"><a href="/views/Notes/20200522.html#本地连接" class="sidebar-link">☑️ 本地连接</a></li><li class="sidebar-sub-header"><a href="/views/Notes/20200522.html#创建和查询数据" class="sidebar-link">☑️ 创建和查询数据</a></li><li class="sidebar-sub-header"><a href="/views/Notes/20200522.html#阿里云服务器-1433-端口未打开处理" class="sidebar-link">⭐️ 阿里云服务器 1433 端口未打开处理</a></li><li class="sidebar-sub-header"><a href="/views/Notes/20200522.html#使用-vscode-跨平台连接-sql-server" class="sidebar-link">☑️ 使用 VSCode 跨平台连接 SQL Server</a></li></ul></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-4a776749 data-v-c00e2ab0><h3 class="title" style="display:none;" data-v-4a776749 data-v-4a776749>Ubuntu安装SqlServer</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-4a776749 data-v-4a776749><input type="password" value="" data-v-4a776749> <span data-v-4a776749>Konck! Knock!</span> <button data-v-4a776749>OK</button></label> <div class="footer" style="display:none;" data-v-4a776749 data-v-4a776749><span data-v-4a776749><i class="iconfont reco-theme" data-v-4a776749></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-4a776749>vuePress-theme-reco</a></span> <span data-v-4a776749><i class="iconfont reco-copyright" data-v-4a776749></i> <a data-v-4a776749><span data-v-4a776749>Air_Code</span>
            
          <span data-v-4a776749>2017 - </span>
          2020
        </a></span></div></div> <div data-v-c00e2ab0><main class="page"><div class="page-title" style="display:none;"><h1>Ubuntu安装SqlServer</h1> <hr> <div data-v-ba876724><i class="iconfont reco-account" data-v-ba876724><span data-v-ba876724>Air_Code</span></i> <i class="iconfont reco-date" data-v-ba876724><span data-v-ba876724>2020-05-22</span></i> <!----> <i class="iconfont reco-tag tags" data-v-ba876724><span class="tag-item" data-v-ba876724>
      学习，编程
    </span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><h2 id="安装-sql-server-并在-ubuntu-上创建数据库"><a href="#安装-sql-server-并在-ubuntu-上创建数据库" class="header-anchor">#</a> 安装 Sql Server 并在 Ubuntu 上创建数据库</h2> <blockquote><p>参考文档：<a href="https://docs.microsoft.com/zh-cn/sql/linux/quickstart-install-connect-ubuntu?view=sql-server-ver15" target="_blank" rel="noopener noreferrer">官方文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>修改时间：2020 年 5 月 22 日 00 点 31 分</p></blockquote> <h3 id="先决条件"><a href="#先决条件" class="header-anchor">#</a> ☑️ <strong>先决条件</strong></h3> <blockquote><p>❗️ ​ 不支持将适用于 Windows 10 的 <em>Linux 的 Windows 子系统</em>作为安装目标。</p></blockquote> <hr> <h3 id="安装-sql-server"><a href="#安装-sql-server" class="header-anchor">#</a> ☑️ <strong>安装 SQL Server</strong></h3> <blockquote><p>📌 以下用于 SQL Server 2019 的命令指向 Ubuntu 18.04 存储库。 如果使用的是 Ubuntu 16.04，请将以下路径更改为 <code>/ubuntu/16.04/</code> 而不是 <code>/ubuntu/18.04/</code>。</p></blockquote> <p>要在 Ubuntu 上配置 SQL Server，请在终端中运行以下命令以安装 mssql-server 包 。</p> <ol><li><p>导入公共存储 GPG 密钥：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">wget</span> -qO- https://packages.microsoft.com/keys/microsoft.asc <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>为 SQL Server 2019 注册 Microsoft SQL Server Ubuntu 存储库：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> add-apt-repository <span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token function">wget</span> -qO- https://packages.microsoft.com/config/ubuntu/18.04/mssql-server-2019.list<span class="token variable">)</span></span>&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>运行以下命令以安装 SQL Server：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y mssql-server
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>包安装完成后，运行 <strong>mssql-conf setup</strong>，按照提示设置 SA 密码并选择版本。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> /opt/mssql/bin/mssql-conf setup
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>🚩 请确保为 SA 帐户指定强密码（最少 8 个字符，包括大写和小写字母、十进制数字和/或非字母数字符号）。</p></blockquote></li> <li><p>完成配置后，验证服务是否正在运行：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>systemctl status mssql-server --no-pager
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>如果计划远程连接，可能还需要在防火墙上打开 SQL Server TCP 端口（默认值为 1433）</p></li></ol> <hr> <h3 id="安装-sql-server-命令行工具"><a href="#安装-sql-server-命令行工具" class="header-anchor">#</a> ☑️ <strong>安装 SQL Server 命令行工具</strong></h3> <blockquote><p>🚩 若要创建数据库，则需要使用可在 SQL Server 上运行 Transact-SQL 语句的工具进行连接。 以下步骤将安装 SQL Server 命令行工具：<a href="https://docs.microsoft.com/zh-cn/sql/tools/sqlcmd-utility?view=sql-server-ver15" target="_blank" rel="noopener noreferrer">sqlcmd<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 和 <a href="https://docs.microsoft.com/zh-cn/sql/tools/bcp-utility?view=sql-server-ver15" target="_blank" rel="noopener noreferrer">bcp<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p></blockquote> <p>通过以下步骤在 Ubuntu 上安装<em>mssql-tools</em></p> <ol><li><p>导入公共存储库 GPG 密钥。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> https://packages.microsoft.com/keys/microsoft.asc <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>注册 Microsoft Ubuntu 存储库。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> https://packages.microsoft.com/config/ubuntu/18.04/prod.list <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/msprod.list
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>更新源列表，并使用 unixODBC 开发人员包运行安装命令。 有关详细信息，请参阅<a href="https://docs.microsoft.com/zh-cn/sql/connect/odbc/linux-mac/installing-the-microsoft-odbc-driver-for-sql-server?view=sql-server-ver15" target="_blank" rel="noopener noreferrer">安装 Microsoft ODBC Driver for SQL Server (Linux)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> mssql-tools unixodbc-dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>📌 若要将 mssql-tools 更新至最新版本，请运行以下命令 ：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> mssql-tools
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></blockquote></li> <li><p><strong>可选</strong>：向 bash shell 中的 PATH 环境变量添加<code>/opt/mssql-tools/bin/</code>。</p> <p>要使 sqlcmd/bcp 能从登陆会话的 bash shell 进行访问，请使用下列命令修改 ~/.bash_profile 文件中的 PATH ：</p> <div class="language-bath line-numbers-mode"><pre class="language-text"><code>echo 'export PATH=&quot;$PATH:/opt/mssql-tools/bin&quot;' &gt;&gt; ~/.bash_profile
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>要使 sqlcmd/bcp 能从交互式/非登录会话的 bash shell 进行访问，请使用下列命令修改 ~/.bashrc 文件中的 PATH ：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">'export PATH=&quot;<span class="token environment constant">$PATH</span>:/opt/mssql-tools/bin&quot;'</span> <span class="token operator">&gt;&gt;</span> ~/.bashrc
<span class="token builtin class-name">source</span> ~/.bashrc
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ol> <hr> <h3 id="本地连接"><a href="#本地连接" class="header-anchor">#</a> ☑️ <strong>本地连接</strong></h3> <blockquote><p>🚩 以下步骤使用 sqlcmd 本地连接到新的 SQL Server 实例。</p></blockquote> <ol><li><p>使用 SQL Server 名称 (-S)，用户名 (-U) 和密码 (-P) 的参数运行 sqlcmd 。 在本教程中，用户进行本地连接，因此服务器名称为 <code>localhost</code>。 用户名为 <code>SA</code>，密码是在安装过程中为 SA 帐户提供的密码。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>sqlcmd -S localhost -U SA -P <span class="token string">'&lt;YourPassword&gt;'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>📌 可以在命令行上省略密码，以收到密码输入提示。</p></blockquote> <blockquote><p>📌 如果以后决定进行远程连接，请指定 -S 参数的计算机名称或 IP 地址，并确保防火墙上的端口 1433 已打开。</p></blockquote></li> <li><p>如果成功，应会显示 sqlcmd 命令提示符：<code>1&gt;</code>。</p></li> <li><p>如果连接失败，先尝试诊断错误消息中所述的问题。 然后查看<a href="https://docs.microsoft.com/zh-cn/sql/linux/sql-server-linux-troubleshooting-guide?view=sql-server-ver15#connection" target="_blank" rel="noopener noreferrer">连接故障排除建议<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p></li></ol> <hr> <h3 id="创建和查询数据"><a href="#创建和查询数据" class="header-anchor">#</a> ☑️ <strong>创建和查询数据</strong></h3> <blockquote><p>🚩 下面各部分将逐步介绍如何使用 sqlcmd 新建数据库、添加数据并运行简单查询。</p></blockquote> <h4 id="新建数据库"><a href="#新建数据库" class="header-anchor">#</a> <strong>新建数据库</strong></h4> <p><em>以下步骤创建一个名为 <code>TestDB</code> 的新数据库。</em></p> <ol><li><p>在 sqlcmd 命令提示符中，粘贴以下 Transact-SQL 命令以创建测试数据库：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> TestDB
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>在下一行中，编写一个查询以返回服务器上所有数据库的名称：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> Name <span class="token keyword">from</span> sys<span class="token punctuation">.</span><span class="token keyword">Databases</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>前两个命令没有立即执行。 必须在新行中键入 <code>GO</code> 才能执行以前的命令：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>GO
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol> <blockquote><p>📌 若要详细了解如何编写 Transact-SQL 语句和查询，请参阅<a href="https://docs.microsoft.com/zh-cn/sql/t-sql/tutorial-writing-transact-sql-statements?view=sql-server-ver15" target="_blank" rel="noopener noreferrer">教程：编写 Transact-SQL 语句<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p></blockquote> <h4 id="插入数据"><a href="#插入数据" class="header-anchor">#</a> <strong>插入数据</strong></h4> <p><em>接下来创建一个新表 <code>Inventory</code>，然后插入两个新行。</em></p> <ol><li><p>在 sqlcmd 命令提示符中，将上下文切换到新的 <code>TestDB</code> 数据库：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">USE</span> TestDB
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>创建名为 <code>Inventory</code> 的新表：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Inventory <span class="token punctuation">(</span>id <span class="token keyword">INT</span><span class="token punctuation">,</span> name NVARCHAR<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span> quantity <span class="token keyword">INT</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>将数据插入新表：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> Inventory <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'banana'</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> Inventory <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'orange'</span><span class="token punctuation">,</span> <span class="token number">154</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>要执行上述命令的类型 <code>GO</code>：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>GO
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol> <h4 id="选择数据"><a href="#选择数据" class="header-anchor">#</a> <strong>选择数据</strong></h4> <p><em>现在，运行查询以从 <code>Inventory</code> 表返回数据。</em></p> <ol><li><p>通过 sqlcmd 命令提示符输入查询，以返回 <code>Inventory</code> 表中数量大于 152 的行：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Inventory <span class="token keyword">WHERE</span> quantity <span class="token operator">&gt;</span> <span class="token number">152</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>执行此命令：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>GO
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol> <h4 id="退出-sqlcmd-命令提示符"><a href="#退出-sqlcmd-命令提示符" class="header-anchor">#</a> <strong>退出 sqlcmd 命令提示符</strong></h4> <p><em>要结束 sqlcmd 会话，请键入 <code>QUIT</code>：</em></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>QUIT
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><hr> <h3 id="阿里云服务器-1433-端口未打开处理"><a href="#阿里云服务器-1433-端口未打开处理" class="header-anchor">#</a> ⭐️ <strong>阿里云服务器 1433 端口未打开处理</strong></h3> <blockquote><p>参考文档：<a href="https://blog.csdn.net/zhangjun965/article/details/79286363" target="_blank" rel="noopener noreferrer">链接<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>通过 telnet 命令发现 1433 端口未启用</p></blockquote> <p><em>telnet 测试端口命令： telnet IP 端口</em></p> <p><strong>解决方法：</strong></p> <p>登录【阿里云管理控制台】，左侧菜单依次点：
云计算基础服务 -&gt; 云服务器 ECS -&gt; 网络和安全 -&gt; 安全组 -&gt; 在安全组列表中选择默认安全组最右边的‘配置规则’
-&gt; tab 页签选'入方向' -&gt; 点右上角的‘添加安全组规则’
-&gt; 规则方向：入方向 -&gt; 授权策略：允许 -&gt; 协议类型：MS SQL(1433) -&gt; 授权对象：0.0.0.0/0 -&gt; 确定</p> <p><img src="https://gitee.com/walktome/PicGoImages/raw/master/image-20200522011427429.png" alt=""></p> <p><img src="https://gitee.com/walktome/PicGoImages/raw/master/image-20200522011606491.png" alt=""></p> <hr> <h3 id="使用-vscode-跨平台连接-sql-server"><a href="#使用-vscode-跨平台连接-sql-server" class="header-anchor">#</a> ☑️ <strong>使用 VSCode 跨平台连接 SQL Server</strong></h3> <blockquote><p>参考文档：<a href="https://docs.microsoft.com/zh-cn/sql/visual-studio-code/sql-server-develop-use-vscode?view=sql-server-ver15" target="_blank" rel="noopener noreferrer">官方文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>修改时间：2020 年 5 月 22 日 10 点 54 分</p> <p>适用于： <img src="https://docs.microsoft.com/zh-cn/sql/includes/media/yes-icon.png?view=sql-server-ver15" alt="是">SQL Server（仅限 Linux）</p></blockquote> <ul><li><h4 id="安装-mssql-扩展"><a href="#安装-mssql-扩展" class="header-anchor">#</a> <strong>安装 mssql 扩展</strong></h4> <ol><li><p>在 Visual Studio Code 中，选择“查看” &gt; “命令面板”，或按“Ctrl”+“Shift”+“P”，或按“F1”打开“命令面板”。</p></li> <li><p>在命令面板中，从下拉列表中选择“扩展：安装扩展”。</p></li> <li><p>在“扩展”窗格中，键入“mssql”。</p></li> <li><p>选择“SQL Server (mssql)”扩展，然后选择“安装”。</p> <p><img src="https://docs.microsoft.com/zh-cn/sql/visual-studio-code/media/sql-server-develop-use-vscode/vscode-extension.png?view=sql-server-ver15" alt="安装 mssql 扩展"></p></li> <li><p>安装完成后，选择“重新加载”以启用扩展。</p></li></ol></li> <li><h4 id="创建或打开-sql-文件"><a href="#创建或打开-sql-文件" class="header-anchor">#</a> <strong>创建或打开 SQL 文件</strong></h4> <ol><li>选择“文件” &gt; “新建文件”或按“Ctrl”+“N”。 默认情况下，Visual Studio Code 将打开一个新的“纯文本”文件。</li> <li>在下方状态栏上选择“纯文本”，或按“Ctrl”+“K” &gt; “M”，然后从“语言”下拉列表中选择“SQL”。</li></ol> <p>​ <img src="https://docs.microsoft.com/zh-cn/sql/visual-studio-code/media/sql-server-develop-use-vscode/vscode-language-mode.png?view=sql-server-ver15" alt="SQL 语言模式"></p> <blockquote><p>📌 如果打开一个文件扩展名为 .sql 的现有文件，语言模式会自动设置为 SQL。</p></blockquote></li> <li><h4 id="连接到-sql-server"><a href="#连接到-sql-server" class="header-anchor">#</a> <strong>连接到 SQL Server</strong></h4> <ol><li><p>按“Ctrl”+“Shift”+“P”或“F1”打开“命令面板”。</p></li> <li><p>键入 sql 以显示 mssql 命令，或键入 sqlcon，然后从下拉列表中选择“MS SQL：连接”。</p> <p><img src="https://docs.microsoft.com/zh-cn/sql/visual-studio-code/media/sql-server-develop-use-vscode/vscode-commands.png?view=sql-server-ver15" alt="mssql 命令"></p> <blockquote><p>📌 代码编辑器中的焦点须位于 SQL 文件（例如创建的空 SQL 文件），才能执行 mssql 命令。</p></blockquote></li> <li><p>选择“MS SQL：管理连接配置文件”命令。</p></li> <li><p>然后选择“创建”为 SQL Server 创建新的连接配置文件。</p></li> <li><p>按照提示为新连接配置文件指定属性。 指定每个值后，按“Enter”继续。</p> <table><thead><tr><th style="text-align:left;">连接属性</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:left;"><strong>服务器名称或 ADO 连接字符串</strong></td> <td style="text-align:left;">指定 SQL Server 实例名称。 使用 localhost 连接到本地计算机上的 SQL Server 实例。 如果要连接到远程 SQL Server，请输入目标 SQL Server 的名称，或它的 IP 地址。 若要连接到 SQL Server 容器，请指定容器主机的 IP 地址。 如果需要指定端口，请使用逗号将其与名称分开。 例如，对于侦听端口 1401 的服务器，请输入 <code>,1401</code>。 或者，可以在此处输入数据库的 ADO 连接字符串。</td></tr> <tr><td style="text-align:left;">“数据库名称”（可选）</td> <td style="text-align:left;">要使用的数据库。 若要连接到默认数据库，请不要在此处指定数据库名称。</td></tr> <tr><td style="text-align:left;"><strong>身份验证类型</strong></td> <td style="text-align:left;">选择“集成”或“SQL 登录”。</td></tr> <tr><td style="text-align:left;"><strong>用户名</strong></td> <td style="text-align:left;">如果选择了“SQL 登录”，则输入拥有访问服务器上数据库权限的用户名。</td></tr> <tr><td style="text-align:left;"><strong>密码</strong></td> <td style="text-align:left;">输入指定用户的密码。</td></tr> <tr><td style="text-align:left;"><strong>保存密码</strong></td> <td style="text-align:left;">按“Enter”选择“是”并保存密码。 选择“否”，系统将在每次使用连接配置文件时提示输入密码。</td></tr> <tr><td style="text-align:left;">“配置文件名称”（可选）</td> <td style="text-align:left;">键入连接配置文件的名称，例如 localhost 配置文件。</td></tr></tbody></table> <blockquote><p>🎈 输入所有值并选择“Enter”后，Visual Studio Code 将创建连接配置文件并连接到 SQL Server。</p></blockquote></li> <li><p>在下方的状态栏中验证连接。</p> <p><img src="https://docs.microsoft.com/zh-cn/sql/visual-studio-code/media/sql-server-develop-use-vscode/vscode-connection-status.png?view=sql-server-ver15" alt="连接状态"></p></li></ol></li> <li><h4 id="使用方法"><a href="#使用方法" class="header-anchor">#</a> <strong>使用方法</strong></h4> <blockquote><p>⚡️ <a href="https://docs.microsoft.com/zh-cn/sql/visual-studio-code/sql-server-develop-use-vscode?view=sql-server-ver15#create-a-sql-database" target="_blank" rel="noopener noreferrer">参考文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote></li></ul></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">6/28/2020, 12:17:58 AM</span></div></footer> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-1e128e82 data-v-1e128e82><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-1e128e82><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-1e128e82></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-1e128e82></path></svg></div><div class="reco-bgm-panel" data-v-0a2aff30><audio id="bgm" src="https://assets.smallsunnyfox.com/music/2.mp3" data-v-0a2aff30></audio> <div class="reco-float-box" style="bottom:200px;z-index:999999;display:none;" data-v-0a2aff30 data-v-0d264cb4 data-v-0a2aff30><img src="https://assets.smallsunnyfox.com/music/2.jpg" data-v-0a2aff30></div> <div class="reco-bgm-box" style="left:10px;bottom:10px;z-index:999999;" data-v-0a2aff30 data-v-0d264cb4 data-v-0a2aff30><div class="reco-bgm-cover" style="background-image:url(https://assets.smallsunnyfox.com/music/2.jpg);" data-v-0a2aff30><div class="mini-operation" style="display:none;" data-v-0a2aff30><i class="reco-bgm reco-bgm-pause" style="display:none;" data-v-0a2aff30></i> <i class="reco-bgm reco-bgm-play" style="display:none;" data-v-0a2aff30></i></div> <div class="falut-message" style="display:none;" data-v-0a2aff30>
          播放失败
        </div></div> <div class="reco-bgm-info" data-v-0a2aff30 data-v-0d264cb4 data-v-0a2aff30><div class="info-box" data-v-0a2aff30><i class="reco-bgm reco-bgm-music music" data-v-0a2aff30></i>강남역 4번 출구</div> <div class="info-box" data-v-0a2aff30><i class="reco-bgm reco-bgm-artist" data-v-0a2aff30></i>Plastic / Fallin` Dild</div> <div class="reco-bgm-progress" data-v-0a2aff30><div class="progress-bar" data-v-0a2aff30><div class="bar" data-v-0a2aff30></div></div></div> <div class="reco-bgm-operation" data-v-0a2aff30><i class="reco-bgm reco-bgm-last last" data-v-0a2aff30></i> <i class="reco-bgm reco-bgm-pause pause" style="display:none;" data-v-0a2aff30></i> <i class="reco-bgm reco-bgm-play play" data-v-0a2aff30></i> <i class="reco-bgm reco-bgm-next next" data-v-0a2aff30></i> <i class="reco-bgm reco-bgm-volume1 volume" data-v-0a2aff30></i> <i class="reco-bgm reco-bgm-mute mute" style="display:none;" data-v-0a2aff30></i> <div class="volume-bar" data-v-0a2aff30><div class="bar" data-v-0a2aff30></div></div></div></div> <div class="reco-bgm-left-box" data-v-0a2aff30 data-v-0d264cb4 data-v-0a2aff30><i class="reco-bgm reco-bgm-left" data-v-0a2aff30></i></div></div></div></div></div>
    <script src="/assets/js/app.d9584d57.js" defer></script><script src="/assets/js/3.0f02f0c2.js" defer></script><script src="/assets/js/1.9aba950e.js" defer></script><script src="/assets/js/12.a90ae0b4.js" defer></script>
  </body>
</html>
